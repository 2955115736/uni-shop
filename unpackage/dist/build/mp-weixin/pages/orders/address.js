(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orders/address"],{1288:function(t,e,n){"use strict";var r=n("d50c"),s=n.n(r);s.a},"2b52":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uSwipeAction:function(){return n.e("uview-ui/components/u-swipe-action/u-swipe-action").then(n.bind(null,"129f"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"f83c"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"e952"))}},s=function(){var t=this,e=t.$createElement;t._self._c},i=[]},"378b":function(t,e,n){"use strict";(function(t){n("e398");r(n("66fd"));var e=r(n("c6f8"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},c6f8:function(t,e,n){"use strict";n.r(e);var r=n("2b52"),s=n("f951");for(var i in s)"default"!==i&&function(t){n.d(e,t,(function(){return s[t]}))}(i);n("1288");var u,a=n("f0c5"),o=Object(a["a"])(s["default"],r["b"],r["c"],!1,null,"a578fba4",null,!1,r["a"],u);e["default"]=o.exports},d50c:function(t,e,n){},eb85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,s,i,u){try{var a=t[i](u),o=a.value}catch(d){return void n(d)}a.done?e(o):Promise.resolve(o).then(r,s)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var u=t.apply(e,n);function a(t){i(u,r,s,a,o,"next",t)}function o(t){i(u,r,s,a,o,"throw",t)}a(void 0)}))}}var a={data:function(){return{show:!1,isShow:!1,content:"请确定是否删除地址",siteList:[],addressId:null,defaultId:null,from:{},swipe:!1,options:[{text:"设为默认",style:{backgroundColor:"#007aff"}},{text:"删除",style:{backgroundColor:"#dd524d"}}]}},onLoad:function(t){this.from=t,"{}"==JSON.stringify(this.from)&&(this.swipe=!0)},onShow:function(){this.getAddressList()},methods:{getAddressList:function(){var t=this;return u(r.default.mark((function e(){var n,s;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.addressList();case 2:n=e.sent,s=n.data,t.siteList=s;case 5:case"end":return e.stop()}}),e)})))()},backOrders:function(t){var e=this;return u(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("1"!==e.from.fromCenter&&"1"!==e.from.fromAdd){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$u.api.addressDefault(t);case 4:e.$u.route({type:"redirectTo",url:"pages/orders/orders"});case 5:case"end":return n.stop()}}),n)})))()},clickOne:function(t,e){var n=this;return u(r.default.mark((function s(){return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.addressId=n.siteList[t].id,0!==e){r.next=9;break}return r.next=4,n.$u.api.addressDefault(n.addressId);case 4:n.siteList[t].show=!1,n.getAddressList(),n.$u.toast("设置默认地址成功"),r.next=10;break;case 9:1===e&&(n.isShow=!0);case 10:case"end":return r.stop()}}),s)})))()},open:function(t){for(var e=this,n=0;n<this.siteList.length;n++)this.$set(this.siteList[n],"show","false");this.siteList[t].show=!0,this.siteList.map((function(n,r){t!=r&&(e.siteList[r].show=!1)}))},updateAddress:function(t){this.$u.route({url:"/pages/orders/adrUpdate",params:{id:t}})},confirm:function(){var t=this;return u(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.siteList.filter((function(e){if(1===e.is_default)return t.defaultId=e.id})),t.defaultId!==t.addressId){e.next=5;break}return t.getAddressList(),t.isShow=!1,e.abrupt("return",t.$u.toast("默认地址不能删除"));case 5:return e.next=7,t.$u.api.addressDel(t.addressId);case 7:t.getAddressList(),t.isShow=!1,t.$u.toast("删除地址成功");case 10:case"end":return e.stop()}}),e)})))()},cancel:function(){this.getAddressList(),this.isShow=!1,this.$u.toast("已取消删除地址")},toAddAddress:function(){this.$u.route({type:"redirectTo",url:"/pages/orders/addAddress"})}}};e.default=a},f951:function(t,e,n){"use strict";n.r(e);var r=n("eb85"),s=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=s.a}},[["378b","common/runtime","common/vendor"]]]);