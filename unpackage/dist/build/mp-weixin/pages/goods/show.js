(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/show"],{"304e":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=o(e("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,u,o,r,c){try{var a=t[r](c),i=a.value}catch(s){return void e(s)}a.done?n(i):Promise.resolve(i).then(u,o)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(u,o){var c=t.apply(n,e);function a(t){r(c,u,o,a,i,"next",t)}function i(t){r(c,u,o,a,i,"throw",t)}a(void 0)}))}}var a={data:function(){return{goodsId:null,current:0,tabsList:[{name:"商品详情"},{name:"商品评论",count:0},{name:"商品推荐"}],goodsInfo:{title:"",price:0,sales:""},commentList:[],goodsList:[],isCollect:0,cartCount:0,num:0}},onLoad:function(t){this.goodsId=t.id,this.getGoodsData(),this.getCartCount()},methods:{tabsChange:function(t){this.current=t},getGoodsData:function(){var t=this;return c(u.default.mark((function n(){var e;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$u.api.goodsInfo(t.goodsId);case 2:e=n.sent,t.goodsInfo=e.goods,t.commentList=e.goods.comments,t.goodsList=e.like_goods,t.tabsList[1].count=e.goods.comments.lenght,t.isCollect=e.goods.is_collect;case 8:case"end":return n.stop()}}),n)})))()},collect:function(){var t=this;return c(u.default.mark((function n(){return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$u.api.goodsCollect(t.goodsId);case 2:0===t.isCollect?(t.isCollect=1,t.$u.toast("收藏成功")):(t.isCollect=0,t.$u.toast("取消收藏"));case 3:case"end":return n.stop()}}),n)})))()},addCart:function(){var t=this;return c(u.default.mark((function n(){var e;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.num+=1,e={goods_id:t.goodsId,num:t.num},n.next=4,t.$u.api.cartAdd(e);case 4:t.$u.toast("添加成功"),t.getCartCount();case 6:case"end":return n.stop()}}),n)})))()},getCartCount:function(){var t=this;return c(u.default.mark((function n(){var e,o;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=t.vuex_token,!e){n.next=6;break}return n.next=4,t.$u.api.cartList();case 4:o=n.sent,t.cartCount=o.data.length;case 6:case"end":return n.stop()}}),n)})))()},toCart:function(){this.$u.route({type:"switchTab",url:"/pages/cart/cart"})}}};n.default=a},"50b8":function(t,n,e){"use strict";e.r(n);var u=e("304e"),o=e.n(u);for(var r in u)"default"!==r&&function(t){e.d(n,t,(function(){return u[t]}))}(r);n["default"]=o.a},"51ce":function(t,n,e){"use strict";e.r(n);var u=e("77c7"),o=e("50b8");for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);e("d33c");var c,a=e("f0c5"),i=Object(a["a"])(o["default"],u["b"],u["c"],!1,null,"d2c0d3fa",null,!1,u["a"],c);n["default"]=i.exports},"77c7":function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return u}));var u={uImage:function(){return e.e("uview-ui/components/u-image/u-image").then(e.bind(null,"8d22"))},uTabs:function(){return e.e("uview-ui/components/u-tabs/u-tabs").then(e.bind(null,"63dc"))},uParse:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-parse/u-parse")]).then(e.bind(null,"e8b4"))},uRow:function(){return e.e("uview-ui/components/u-row/u-row").then(e.bind(null,"8ba1"))},uCol:function(){return e.e("uview-ui/components/u-col/u-col").then(e.bind(null,"0061"))},goodsCard:function(){return e.e("components/goods-card/goods-card").then(e.bind(null,"1155"))},uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"f83c"))},uBadge:function(){return e.e("uview-ui/components/u-badge/u-badge").then(e.bind(null,"0b56"))},uButton:function(){return e.e("uview-ui/components/u-button/u-button").then(e.bind(null,"c20a"))}},o=function(){var t=this,n=t.$createElement;t._self._c},r=[]},b1d8:function(t,n,e){"use strict";(function(t){e("e398");u(e("66fd"));var n=u(e("51ce"));function u(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},d33c:function(t,n,e){"use strict";var u=e("eef4"),o=e.n(u);o.a},eef4:function(t,n,e){}},[["b1d8","common/runtime","common/vendor"]]]);